{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A layout example that shows off a blog page with a list of posts.">

    <title>Andrew Liu Blog</title>
    <link rel="stylesheet" href="{% static "css/pure-min.css" %}">
    <link rel="stylesheet" href="{% static "css/grids-responsive-min.css" %}">
    <link rel="stylesheet" href="{% static "css/blog.css" %}">

    <style type="text/css">
        ul li {
            list-style: none;
        }

        .pager li a {
            padding: 4px;
            border: 0 rgba(0, 0, 0, 0);
            background-color: #E6E6E6;
        }

        .pager li a:hover {
            background-color: #c6c6c6;
        }
    </style>
</head>
<body>

<div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-md-1-4">
        <div class="header">
            <h1 class="brand-title"><a href="/">Hovace Zhao Blog</a></h1>
            <h2 class="brand-tagline">时少 - Boy in time</h2>
            <nav class="nav">
                <ul class="nav-list">
                    <li class="nav-item">
                        <a class="button-success pure-button" href="/">主页</a>
                    </li>
                    <li class="nav-item">
                        <a class="button-success pure-button" href="/archives">归档</a>
                    </li>
                    <li class="nav-item">
                        <a class="pure-button" href="https://github.com/zhaobinhong">Github</a>
                    </li>
                    <li class="nav-item">
                        <a class="pure-button" href="http://www.jianshu.com/u/f92237298171">Jianshu</a>
                    </li>
                    <li class="nav-item">
                        <a class="button-success pure-button" href="/">专题</a>
                    </li>
                    <li>
                        <form class="pure-form" action="/search/" method="get">
                            <input class="pure-input-3-3" type="text" name="s" placeholder="search">
                        </form>
                    </li>
                    <li class="nav-item">
                        <a class="button-success pure-button" href="/about_me">About Me</a>
                    </li>
                    <li class="nav-item">
                        <a class="button-success pure-button" href="{% url 'RSS' %}">RSS</a>
                    </li>


                </ul>
            </nav>
        </div>
    </div>

    <div class="content pure-u-1 pure-u-md-3-4">
        <div>
            {% block content %}
            {% endblock %}
            <div class="footer">
                <div class="pure-menu pure-menu-horizontal pure-menu-open">
                    <ul>

                        <li><a href="/about_me">About Me</a></li>
                        <li><a href="http://twitter.com/yuilibrary/">Twitter</a></li>
                        <li><a href="http://github.com/yahoo/pure/">GitHub</a></li>
                    </ul>
                </div>
                <div id="lin" class="content pure-u-1 pure-u-md-3-4">

                    <span id="username">请登录</span>
                    <br>
                    <br>
                    <a id="login" class="button-success pure-button" href='/online/login'>登录</a>
                    <a id="regist" class="button-success pure-button" href='/online/regist/'>注册</a>
                </div>
            </div>
        </div>
    </div>


</div>

<script type="text/javascript">

    function getQueryString(name) {
        var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)", "i");
        var r = window.location.search.substr(1).match(reg);
        if (r != null) return unescape(r[2]);
        return null;
    }

    var login = document.getElementById("login");
    var regist = document.getElementById("regist");
    var lin = document.getElementById("lin");
    var username = document.getElementById("username");
    console.log(getQueryString("username"));
    var name = getQueryString("username");
    if (name && name !== "null") {

        username.innerHTML = "<a style='cursor:none;'>"+name+"</a>" + "　，您好";
        regist.style.display = "none";
        login.style.display = "none";
        var node = document.createElement("a");
        node.className = "button-success pure-button";
        node.href = '/online/regist/';
        node.id = "logout";
        var textnode = document.createTextNode("登出");
        node.appendChild(textnode);
        lin.appendChild(node);

    }
    if (name == "null") {
        username.innerHTML = "请登录";
    }
</script>
</body>
</html>